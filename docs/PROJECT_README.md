# 玄牢志 - 地牢肉鸽微信小游戏

> 八卦地牢 · 命运轮回

## 项目概述

这是一款融合中国传统易学元素（八卦、五行、阴阳）与经典Roguelike机制的地牢探索卡牌游戏，专为微信小游戏平台设计。

## 核心特色

### 🎴 回合制卡牌战斗
- 能量系统：每回合恢复3点能量
- 丰富的卡牌类型：攻击、技能、能力、诅咒
- 策略深度：构筑独特牌组

### ⚔️ 五行相克系统
- 金、木、水、火、土五种属性
- 相克关系影响伤害计算（+50%/-25%）
- 属性亲和增强角色能力

### 🏰 程序生成地牢
- 6层主题地牢：土牢→水狱→火窟→金殿→木林→混沌界
- 多样房间类型：战斗、精英、事件、商店、休息、宝藏
- 每局不同的地图布局

### 👥 四种可玩角色
| 角色 | 特色 | 初始遗物 |
|------|------|----------|
| 剑客 | 连击增伤 | 青锋剑 |
| 道士 | 五行变化 | 八卦镜 |
| 术士 | 诅咒控制 | 符咒袋 |
| 武僧 | 防御大师 | 念珠 |

## 项目结构

```
src/
├── core/                 # 核心系统
│   ├── GameManager.ts    # 游戏管理器
│   ├── EventBus.ts       # 事件总线
│   ├── GameStateManager.ts # 状态机
│   ├── SaveManager.ts    # 存档管理
│   └── MetaProgress.ts   # 永久进度
│
├── battle/               # 战斗系统
│   └── BattleManager.ts  # 战斗管理器
│
├── card/                 # 卡牌系统
│   ├── Card.ts           # 卡牌基类
│   └── Deck.ts           # 牌组管理
│
├── entity/               # 实体系统
│   ├── Entity.ts         # 实体基类
│   ├── Player.ts         # 玩家
│   └── Enemy.ts          # 敌人
│
├── dungeon/              # 地牢系统
│   └── DungeonGenerator.ts # 地牢生成器
│
├── relic/                # 遗物系统
│   └── Relic.ts          # 遗物基类
│
├── data/                 # 数据配置
│   ├── CardsData.ts      # 卡牌数据
│   ├── EnemiesData.ts    # 敌人数据
│   └── Characters.ts     # 角色数据
│
└── utils/                # 工具类
    └── (待添加)
```

## 文档

- [游戏设计文档 (GDD)](./GAME_DESIGN_DOCUMENT.md)
- [技术架构文档](./TECHNICAL_ARCHITECTURE.md)

## 技术栈

### 推荐方案
- **引擎**: Cocos Creator 3.x
- **语言**: TypeScript
- **平台**: 微信小游戏

### 备选方案
- Phaser 3
- PixiJS + 自研框架
- Laya Engine

## 开发路线图

### 阶段1: 原型验证 (2-3周)
- [x] 游戏设计文档
- [x] 技术架构规划
- [x] 核心系统代码框架
- [ ] 基础战斗系统实现
- [ ] 单层地牢可玩原型

### 阶段2: 核心玩法 (4-6周)
- [ ] 完整6层地牢
- [ ] 4个可玩角色
- [ ] 50+卡牌
- [ ] 20+敌人类型
- [ ] 遗物系统

### 阶段3: 内容扩充 (4-6周)
- [ ] 100+卡牌
- [ ] 50+遗物
- [ ] 事件系统
- [ ] Meta进度
- [ ] 成就系统

### 阶段4: 打磨上线 (2-4周)
- [ ] UI美化
- [ ] 音效完善
- [ ] 平衡性调整
- [ ] 微信适配
- [ ] 性能优化

## 设计原则

1. **易上手，难精通** - 规则简单，策略深度
2. **每局不同** - 高随机性保证重玩价值
3. **死亡有意义** - 永久进度缓解挫败感
4. **尊重时间** - 单局15-30分钟
5. **文化特色** - 融入中国传统元素

## 卡牌数量统计

| 类型 | 数量 |
|------|------|
| 初始卡 | 2 |
| 普通攻击 | 4 |
| 普通技能 | 3 |
| 稀有攻击 | 4 |
| 稀有技能 | 2 |
| 能力卡 | 3 |
| 史诗卡 | 3 |
| 五行卡 | 5 |
| 诅咒/状态 | 5 |
| **总计** | **31** |

## 敌人数量统计

| 层级 | 普通敌人 | 精英 | BOSS |
|------|----------|------|------|
| 第1层 | 3 | 1 | 1 |
| 第2层 | 2 | 1 | 1 |
| 第3层 | 2 | 1 | 1 |
| 第4层 | 2 | 1 | 1 |
| 第5层 | 2 | 1 | 1 |
| 第6层 | 1 | 0 | 1 |
| **总计** | **12** | **5** | **6** |

## 如何开始

### 1. 安装依赖
```bash
npm install
```

### 2. 开发模式
```bash
npm run dev
```

### 3. 构建微信小游戏
```bash
npm run build:wechat
```

## 贡献指南

1. Fork 本仓库
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

## 许可证

本项目采用 MIT 许可证 - 详见 [LICENSE](../LICENSE) 文件

---

*项目版本: v0.1.0 (开发中)*
*最后更新: 2024年12月*
